Started GET "/" for ::1 at 2025-02-10 20:02:13 -0500
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::StatementInvalid (Could not find table 'solid_apm_transactions'):
  
activerecord (7.1.3.4) lib/active_record/connection_adapters/sqlite3_adapter.rb:458:in 'ActiveRecord::ConnectionAdapters::SQLite3Adapter#table_structure'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/schema_statements.rb:109:in 'ActiveRecord::ConnectionAdapters::SchemaStatements#columns'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:346:in 'block in ActiveRecord::ConnectionAdapters::SchemaCache#columns'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:345:in 'Hash#fetch'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:345:in 'ActiveRecord::ConnectionAdapters::SchemaCache#columns'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:354:in 'block in ActiveRecord::ConnectionAdapters::SchemaCache#columns_hash'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:353:in 'Hash#fetch'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:353:in 'ActiveRecord::ConnectionAdapters::SchemaCache#columns_hash'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:58:in 'ActiveRecord::ConnectionAdapters::SchemaReflection#columns_hash'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:188:in 'ActiveRecord::ConnectionAdapters::BoundSchemaReflection#columns_hash'
activerecord (7.1.3.4) lib/active_record/model_schema.rb:618:in 'ActiveRecord::ModelSchema::ClassMethods#load_schema!'
activerecord (7.1.3.4) lib/active_record/attributes.rb:264:in 'ActiveRecord::Attributes::ClassMethods#load_schema!'
activerecord (7.1.3.4) lib/active_record/encryption/encryptable_record.rb:127:in 'ActiveRecord::Encryption::EncryptableRecord::ClassMethods#load_schema!'
activerecord (7.1.3.4) lib/active_record/model_schema.rb:563:in 'block in ActiveRecord::ModelSchema::ClassMethods#load_schema'
activerecord (7.1.3.4) lib/active_record/model_schema.rb:560:in 'Monitor#synchronize'
activerecord (7.1.3.4) lib/active_record/model_schema.rb:560:in 'ActiveRecord::ModelSchema::ClassMethods#load_schema'
activerecord (7.1.3.4) lib/active_record/model_schema.rb:441:in 'ActiveRecord::ModelSchema::ClassMethods#attribute_types'
activerecord (7.1.3.4) lib/active_record/attribute_methods.rb:256:in 'ActiveRecord::AttributeMethods::ClassMethods#_has_attribute?'
activerecord (7.1.3.4) lib/active_record/inheritance.rb:61:in 'ActiveRecord::Inheritance::ClassMethods#new'
/Users/jfbastien/Documents/code/solid_apm/lib/solid_apm/middleware.rb:44:in 'SolidApm::Middleware.init_transaction'
/Users/jfbastien/Documents/code/solid_apm/lib/solid_apm/middleware.rb:10:in 'SolidApm::Middleware#call'
rack (3.0.11) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.0.11) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.0.11) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.0.11) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (7.1.3.4) lib/action_dispatch/http/permissions_policy.rb:36:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (7.1.3.4) lib/action_dispatch/http/content_security_policy.rb:33:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in 'Rack::Session::Abstract::Persisted#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/cookies.rb:689:in 'ActionDispatch::Cookies#call'
activerecord (7.1.3.4) lib/active_record/migration.rb:655:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in 'block in ActionDispatch::Callbacks#call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in 'ActionDispatch::Callbacks#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in 'ActionDispatch::Executor#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in 'ActionDispatch::ActionableExceptions#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in 'ActionDispatch::DebugExceptions#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in 'ActionDispatch::ShowExceptions#call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in 'Rails::Rack::Logger#call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in 'block in Rails::Rack::Logger#call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in 'block in ActiveSupport::TaggedLogging#tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in 'ActiveSupport::TaggedLogging::Formatter#tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in 'ActiveSupport::TaggedLogging#tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in 'ActiveSupport::BroadcastLogger#method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in 'Rails::Rack::Logger#call'
propshaft (1.1.0) lib/propshaft/quiet_assets.rb:11:in 'Propshaft::QuietAssets#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in 'ActionDispatch::RemoteIp#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in 'ActionDispatch::RequestId#call'
rack (3.0.11) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.0.11) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in 'ActiveSupport::Cache::Strategy::LocalCache::Middleware#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/server_timing.rb:59:in 'block in ActionDispatch::ServerTiming#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/server_timing.rb:24:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (7.1.3.4) lib/action_dispatch/middleware/server_timing.rb:58:in 'ActionDispatch::ServerTiming#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in 'ActionDispatch::Executor#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in 'ActionDispatch::Static#call'
rack (3.0.11) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in 'ActionDispatch::HostAuthorization#call'
railties (7.1.3.4) lib/rails/engine.rb:536:in 'Rails::Engine#call'
puma (6.4.2) lib/puma/configuration.rb:272:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.4.2) lib/puma/request.rb:100:in 'block in Puma::Request#handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in 'Puma::Request#handle_request'
puma (6.4.2) lib/puma/server.rb:464:in 'Puma::Server#process_client'
puma (6.4.2) lib/puma/server.rb:245:in 'block in Puma::Server#run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in 'block in Puma::ThreadPool#spawn_thread'
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-02-11 01:09:35.867159', '2025-02-11 01:09:35.867161') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSolidApmTransactions (20240608015633)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "solid_apm_transactions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uuid" varchar NOT NULL, "timestamp" datetime(6) NOT NULL, "type" varchar NOT NULL, "name" varchar, "end_time" datetime(6) NOT NULL, "duration" float, "unix_minute" integer, "metadata" json, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_solid_apm_transactions_on_uuid" ON "solid_apm_transactions" ("uuid")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_solid_apm_transactions_on_timestamp" ON "solid_apm_transactions" ("timestamp" DESC)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_solid_apm_transactions_on_type" ON "solid_apm_transactions" ("type")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_solid_apm_transactions_on_name" ON "solid_apm_transactions" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240608015633') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateSolidApmSpans (20240608021940)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "solid_apm_spans" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uuid" varchar NOT NULL, "transaction_id" integer NOT NULL, "sequence" integer NOT NULL, "timestamp" datetime(6) NOT NULL, "name" varchar, "type" varchar, "subtype" varchar, "summary" varchar, "end_time" datetime(6), "duration" float, "stacktrace" json, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a1e1203d1c"
FOREIGN KEY ("transaction_id")
  REFERENCES "solid_apm_transactions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_solid_apm_spans_on_uuid" ON "solid_apm_spans" ("uuid")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_solid_apm_spans_on_transaction_id" ON "solid_apm_spans" ("transaction_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_solid_apm_spans_on_timestamp" ON "solid_apm_spans" ("timestamp" DESC)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240608021940') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-02-10 20:10:03 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/railties-7.1.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/railties-7.1.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.7ms | Allocations: 232)
Completed 200 OK in 63ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 4357)


  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSolidApm::Transaction Create (11.8ms)[0m  [1m[32mINSERT INTO "solid_apm_transactions" ("uuid", "timestamp", "type", "name", "end_time", "duration", "unix_minute", "metadata", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uuid", "b805ec6a-e5ce-44d7-a5da-075a9213db59"], ["timestamp", "2025-02-11 01:10:03.425154"], ["type", "request"], ["name", "Rails::WelcomeController#index"], ["end_time", "2025-02-11 01:10:03.529124"], ["duration", 103.970051], ["unix_minute", 28987270], ["metadata", "{\"params\":{},\"context\":null}"], ["created_at", "2025-02-11 01:10:03.531398"], ["updated_at", "2025-02-11 01:10:03.531398"]]
  [1m[36mSolidApm::Span Bulk Insert (0.2ms)[0m  [1m[32mINSERT INTO "solid_apm_spans" ("uuid","sequence","timestamp","end_time","duration","name","type","subtype","summary","transaction_id","created_at","updated_at") VALUES ('ff8ec75e-5450-419f-a2b8-35885506509f', 1, '2025-02-11 01:10:03.527467', '2025-02-11 01:10:03.528480', 1.013041, 'render_template.action_view', 'action_view', 'render_template', '$GEM_PATH/gems/railties-7.1.3.4/lib/rails/templates/rails/welcome/index.html.erb', 1, STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW'), STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW')), ('1b531076-e479-404a-aca8-2cd232d39c87', 2, '2025-02-11 01:10:03.403711', '2025-02-11 01:10:03.529124', 125.412941, 'request.action_dispatch', 'action_dispatch', 'request', 'Rails::WelcomeController#index', 1, STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW'), STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW')) ON CONFLICT  DO NOTHING RETURNING "id"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Started GET "/solid_apm" for ::1 at 2025-02-10 20:10:40 -0500
Processing by SolidApm::TransactionsController#index as HTML
  [1m[36mSolidApm::Transaction Load (4.7ms)[0m  [1m[34mSELECT "solid_apm_transactions".* FROM "solid_apm_transactions" WHERE "solid_apm_transactions"."created_at" BETWEEN ? AND ?[0m  [["created_at", "2025-02-11 00:10:40.749220"], ["created_at", "2025-02-11 01:10:40.749247"]]
  Rendering layout /Users/jfbastien/Documents/code/solid_apm/app/views/layouts/solid_apm/application.html.erb
  Rendering /Users/jfbastien/Documents/code/solid_apm/app/views/solid_apm/transactions/index.html.erb within layouts/solid_apm/application
  Rendered /Users/jfbastien/Documents/code/solid_apm/app/views/solid_apm/transactions/index.html.erb within layouts/solid_apm/application (Duration: 6.3ms | Allocations: 2698)
  Rendered layout /Users/jfbastien/Documents/code/solid_apm/app/views/layouts/solid_apm/application.html.erb (Duration: 18.3ms | Allocations: 6473)
Completed 200 OK in 70ms (Views: 20.8ms | ActiveRecord: 5.9ms | Allocations: 10557)


  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSolidApm::Transaction Create (3.8ms)[0m  [1m[32mINSERT INTO "solid_apm_transactions" ("uuid", "timestamp", "type", "name", "end_time", "duration", "unix_minute", "metadata", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uuid", "ecc91aed-beed-42b1-8d3d-f293fe8f8f59"], ["timestamp", "2025-02-11 01:10:40.821879"], ["type", "request"], ["name", "ActionDispatch::Request::PASS_NOT_FOUND#index"], ["end_time", "2025-02-11 01:10:40.825099"], ["duration", 3.219843], ["unix_minute", 28987270], ["metadata", "{\"params\":{},\"context\":null}"], ["created_at", "2025-02-11 01:10:40.830109"], ["updated_at", "2025-02-11 01:10:40.830109"]]
  [1m[36mSolidApm::Span Insert (1.8ms)[0m  [1m[32mINSERT INTO "solid_apm_spans" ("uuid","sequence","timestamp","end_time","duration","name","type","subtype","summary","transaction_id","created_at","updated_at") VALUES ('24da7be1-c4bc-4418-8215-67be772223e9', 1, '2025-02-11 01:10:40.815412', '2025-02-11 01:10:40.825099', 9.686947, 'request.action_dispatch', 'action_dispatch', 'request', 'ActionDispatch::Request::PASS_NOT_FOUND#index', 2, STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW'), STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW')) ON CONFLICT  DO NOTHING RETURNING "id"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSolidApm::Transaction Create (6.4ms)[0m  [1m[32mINSERT INTO "solid_apm_transactions" ("uuid", "timestamp", "type", "name", "end_time", "duration", "unix_minute", "metadata", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uuid", "a24a8fd5-6180-4f7c-92f6-351814a28c52"], ["timestamp", "2025-02-11 01:10:40.891938"], ["type", "request"], ["name", "ActionDispatch::Request::PASS_NOT_FOUND#index"], ["end_time", "2025-02-11 01:10:40.899076"], ["duration", 7.138014], ["unix_minute", 28987270], ["metadata", "{\"params\":{},\"context\":null}"], ["created_at", "2025-02-11 01:10:40.901535"], ["updated_at", "2025-02-11 01:10:40.901535"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSolidApm::Transaction Create (5203.1ms)[0m  [1m[32mINSERT INTO "solid_apm_transactions" ("uuid", "timestamp", "type", "name", "end_time", "duration", "unix_minute", "metadata", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uuid", "55f616fa-800a-4857-bf81-673fac1f0ee7"], ["timestamp", "2025-02-11 01:10:40.896018"], ["type", "request"], ["name", "ActionDispatch::Request::PASS_NOT_FOUND#index"], ["end_time", "2025-02-11 01:10:40.900097"], ["duration", 4.079103], ["unix_minute", 28987270], ["metadata", "{\"params\":{},\"context\":null}"], ["created_at", "2025-02-11 01:10:40.908528"], ["updated_at", "2025-02-11 01:10:40.908528"]]
  [1m[36mSolidApm::Span Insert (0.4ms)[0m  [1m[32mINSERT INTO "solid_apm_spans" ("uuid","sequence","timestamp","end_time","duration","name","type","subtype","summary","transaction_id","created_at","updated_at") VALUES ('2358eb80-8804-4a75-ac22-2d08029481a9', 1, '2025-02-11 01:10:40.875691', '2025-02-11 01:10:40.899076', 23.385048, 'request.action_dispatch', 'action_dispatch', 'request', 'ActionDispatch::Request::PASS_NOT_FOUND#index', 3, STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW'), STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW')) ON CONFLICT  DO NOTHING RETURNING "id"[0m
  [1m[36mSolidApm::Transaction Create (10421.2ms)[0m  [1m[32mINSERT INTO "solid_apm_transactions" ("uuid", "timestamp", "type", "name", "end_time", "duration", "unix_minute", "metadata", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uuid", "83794366-1861-4cae-88a4-e174327983b2"], ["timestamp", "2025-02-11 01:10:40.898236"], ["type", "request"], ["name", "ActionDispatch::Request::PASS_NOT_FOUND#index"], ["end_time", "2025-02-11 01:10:40.911508"], ["duration", 13.272285], ["unix_minute", 28987270], ["metadata", "{\"params\":{},\"context\":null}"], ["created_at", "2025-02-11 01:10:40.916690"], ["updated_at", "2025-02-11 01:10:40.916690"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
#<ActiveRecord::StatementInvalid: SQLite3::BusyException: database is locked>
#<ActiveRecord::StatementInvalid: SQLite3::BusyException: database is locked>
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/sqlite3-1.7.3/lib/sqlite3/statement.rb:108:in 'SQLite3::Statement#step'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/sqlite3-1.7.3/lib/sqlite3/statement.rb:108:in 'block in SQLite3::Statement#each'
<internal:kernel>:168:in 'Kernel#loop'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/sqlite3-1.7.3/lib/sqlite3/statement.rb:107:in 'SQLite3::Statement#each'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in 'Enumerable#to_a'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::SQLite3::DatabaseStatements#internal_exec_query'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:1028:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:1000:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:33:in 'block in ActiveRecord::ConnectionAdapters::SQLite3::DatabaseStatements#internal_exec_query'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:1143:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:32:in 'ActiveRecord::ConnectionAdapters::SQLite3::DatabaseStatements#internal_exec_query'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:153:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#exec_insert'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:191:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:25:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#insert'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/persistence.rb:588:in 'ActiveRecord::Persistence::ClassMethods#_insert_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/persistence.rb:1252:in 'ActiveRecord::Persistence#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/counter_cache.rb:187:in 'ActiveRecord::CounterCache#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/locking/optimistic.rb:84:in 'ActiveRecord::Locking::Optimistic#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/encryption/encryptable_record.rb:184:in 'ActiveRecord::Encryption::EncryptableRecord#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/attribute_methods/dirty.rb:240:in 'ActiveRecord::AttributeMethods::Dirty#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/callbacks.rb:445:in 'block in ActiveRecord::Callbacks#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:110:in 'ActiveSupport::Callbacks#run_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:952:in 'ActiveRecord::Base#_run_create_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/callbacks.rb:445:in 'ActiveRecord::Callbacks#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/timestamp.rb:114:in 'ActiveRecord::Timestamp#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/persistence.rb:1221:in 'ActiveRecord::Persistence#create_or_update'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/callbacks.rb:441:in 'block in ActiveRecord::Callbacks#create_or_update'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:121:in 'block in ActiveSupport::Callbacks#run_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/autosave_association.rb:375:in 'ActiveRecord::AutosaveAssociation#around_save_collection_association'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:130:in 'block in ActiveSupport::Callbacks#run_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:141:in 'ActiveSupport::Callbacks#run_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:952:in 'ActiveRecord::Base#_run_save_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/callbacks.rb:441:in 'ActiveRecord::Callbacks#create_or_update'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/timestamp.rb:125:in 'ActiveRecord::Timestamp#create_or_update'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/persistence.rb:751:in 'ActiveRecord::Persistence#save!'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/validations.rb:55:in 'ActiveRecord::Validations#save!'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/transactions.rb:313:in 'block in ActiveRecord::Transactions#save!'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/transactions.rb:365:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:342:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/transactions.rb:361:in 'ActiveRecord::Transactions#with_transaction_returning_status'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/transactions.rb:313:in 'ActiveRecord::Transactions#save!'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/suppressor.rb:56:in 'ActiveRecord::Suppressor#save!'
/Users/jfbastien/Documents/code/solid_apm/lib/solid_apm/middleware.rb:32:in 'block in SolidApm::Middleware.call'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/transaction.rb:535:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/transaction.rb:532:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:344:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/transactions.rb:212:in 'ActiveRecord::Transactions::ClassMethods#transaction'
/Users/jfbastien/Documents/code/solid_apm/lib/solid_apm/middleware.rb:31:in 'SolidApm::Middleware.call'
/Users/jfbastien/Documents/code/solid_apm/lib/solid_apm/middleware.rb:15:in 'block in SolidApm::Middleware#call'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/request.rb:141:in 'block in Puma::Request#handle_request'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/request.rb:141:in 'Array#each'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/request.rb:141:in 'Puma::Request#handle_request'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/server.rb:464:in 'Puma::Server#process_client'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/server.rb:245:in 'block in Puma::Server#run'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:155:in 'block in Puma::ThreadPool#spawn_thread'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/sqlite3-1.7.3/lib/sqlite3/statement.rb:108:in 'SQLite3::Statement#step'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/sqlite3-1.7.3/lib/sqlite3/statement.rb:108:in 'block in SQLite3::Statement#each'
<internal:kernel>:168:in 'Kernel#loop'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/sqlite3-1.7.3/lib/sqlite3/statement.rb:107:in 'SQLite3::Statement#each'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in 'Enumerable#to_a'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:42:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::SQLite3::DatabaseStatements#internal_exec_query'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:1028:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:1000:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:33:in 'block in ActiveRecord::ConnectionAdapters::SQLite3::DatabaseStatements#internal_exec_query'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:1143:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/sqlite3/database_statements.rb:32:in 'ActiveRecord::ConnectionAdapters::SQLite3::DatabaseStatements#internal_exec_query'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:153:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#exec_insert'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:191:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#insert'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:25:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#insert'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/persistence.rb:588:in 'ActiveRecord::Persistence::ClassMethods#_insert_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/persistence.rb:1252:in 'ActiveRecord::Persistence#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/counter_cache.rb:187:in 'ActiveRecord::CounterCache#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/locking/optimistic.rb:84:in 'ActiveRecord::Locking::Optimistic#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/encryption/encryptable_record.rb:184:in 'ActiveRecord::Encryption::EncryptableRecord#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/attribute_methods/dirty.rb:240:in 'ActiveRecord::AttributeMethods::Dirty#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/callbacks.rb:445:in 'block in ActiveRecord::Callbacks#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:110:in 'ActiveSupport::Callbacks#run_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:952:in 'ActiveRecord::Base#_run_create_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/callbacks.rb:445:in 'ActiveRecord::Callbacks#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/timestamp.rb:114:in 'ActiveRecord::Timestamp#_create_record'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/persistence.rb:1221:in 'ActiveRecord::Persistence#create_or_update'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/callbacks.rb:441:in 'block in ActiveRecord::Callbacks#create_or_update'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:121:in 'block in ActiveSupport::Callbacks#run_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/autosave_association.rb:375:in 'ActiveRecord::AutosaveAssociation#around_save_collection_association'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:130:in 'block in ActiveSupport::Callbacks#run_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:141:in 'ActiveSupport::Callbacks#run_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/callbacks.rb:952:in 'ActiveRecord::Base#_run_save_callbacks'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/callbacks.rb:441:in 'ActiveRecord::Callbacks#create_or_update'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/timestamp.rb:125:in 'ActiveRecord::Timestamp#create_or_update'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/persistence.rb:751:in 'ActiveRecord::Persistence#save!'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/validations.rb:55:in 'ActiveRecord::Validations#save!'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/transactions.rb:313:in 'block in ActiveRecord::Transactions#save!'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/transactions.rb:365:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:342:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/transactions.rb:361:in 'ActiveRecord::Transactions#with_transaction_returning_status'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/transactions.rb:313:in 'ActiveRecord::Transactions#save!'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/suppressor.rb:56:in 'ActiveRecord::Suppressor#save!'
/Users/jfbastien/Documents/code/solid_apm/lib/solid_apm/middleware.rb:32:in 'block in SolidApm::Middleware.call'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/transaction.rb:535:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activesupport-7.1.3.4/lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/transaction.rb:532:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:344:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/activerecord-7.1.3.4/lib/active_record/transactions.rb:212:in 'ActiveRecord::Transactions::ClassMethods#transaction'
/Users/jfbastien/Documents/code/solid_apm/lib/solid_apm/middleware.rb:31:in 'SolidApm::Middleware.call'
/Users/jfbastien/Documents/code/solid_apm/lib/solid_apm/middleware.rb:15:in 'block in SolidApm::Middleware#call'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/request.rb:141:in 'block in Puma::Request#handle_request'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/request.rb:141:in 'Array#each'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/request.rb:141:in 'Puma::Request#handle_request'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/server.rb:464:in 'Puma::Server#process_client'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/server.rb:245:in 'block in Puma::Server#run'
/Users/jfbastien/.rbenv/versions/3.4.1/lib/ruby/gems/3.4.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:155:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/solid_apm/transactions/Rails::WelcomeController%23index" for ::1 at 2025-02-10 20:10:51 -0500
Started GET "/solid_apm/transactions/count_time_aggregations?&from_value=60&from_unit=minutes" for ::1 at 2025-02-10 20:10:51 -0500
Processing by SolidApm::TransactionsController#show_by_name as HTML
  Parameters: {"name" => "Rails::WelcomeController#index"}
Processing by SolidApm::TransactionsController#count_time_aggregations as */*
  Parameters: {"from_value" => "60", "from_unit" => "minutes", "default" => {"format" => "json"}}
Scoped order is ignored, it's forced to be batch order.
  [1m[36mSolidApm::Transaction Load (0.4ms)[0m  [1m[34mSELECT "solid_apm_transactions"."id", "solid_apm_transactions"."created_at" FROM "solid_apm_transactions" WHERE "solid_apm_transactions"."created_at" BETWEEN ? AND ? ORDER BY "solid_apm_transactions"."id" ASC LIMIT ?[0m  [["created_at", "2025-02-11 00:10:51.448999"], ["created_at", "2025-02-11 01:10:51.449311"], ["LIMIT", 1000]]
Completed 200 OK in 83ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 2257)


  Rendering layout /Users/jfbastien/Documents/code/solid_apm/app/views/layouts/solid_apm/application.html.erb
  Rendering /Users/jfbastien/Documents/code/solid_apm/app/views/solid_apm/transactions/show_by_name.html.erb within layouts/solid_apm/application
  [1m[36mSolidApm::Transaction Load (0.3ms)[0m  [1m[34mSELECT "solid_apm_transactions".* FROM "solid_apm_transactions" WHERE "solid_apm_transactions"."name" = ? ORDER BY "solid_apm_transactions"."timestamp" DESC LIMIT ?[0m  [["name", "Rails::WelcomeController#index"], ["LIMIT", 20]]
  Rendered /Users/jfbastien/Documents/code/solid_apm/app/views/solid_apm/transactions/show_by_name.html.erb within layouts/solid_apm/application (Duration: 6.7ms | Allocations: 2120)
  Rendered layout /Users/jfbastien/Documents/code/solid_apm/app/views/layouts/solid_apm/application.html.erb (Duration: 8.6ms | Allocations: 3260)
Completed 200 OK in 100ms (Views: 8.9ms | ActiveRecord: 0.3ms | Allocations: 6580)


Started GET "/solid_apm/transactions/count_time_aggregations?name=Rails%3A%3AWelcomeController%23index" for ::1 at 2025-02-10 20:10:51 -0500
Processing by SolidApm::TransactionsController#count_time_aggregations as */*
  Parameters: {"name" => "Rails::WelcomeController#index", "default" => {"format" => "json"}}
Scoped order is ignored, it's forced to be batch order.
  [1m[36mSolidApm::Transaction Load (0.1ms)[0m  [1m[34mSELECT "solid_apm_transactions"."id", "solid_apm_transactions"."created_at" FROM "solid_apm_transactions" WHERE "solid_apm_transactions"."created_at" BETWEEN ? AND ? AND "solid_apm_transactions"."name" = ? ORDER BY "solid_apm_transactions"."id" ASC LIMIT ?[0m  [["created_at", "2025-02-11 00:10:51.591304"], ["created_at", "2025-02-11 01:10:51.591350"], ["name", "Rails::WelcomeController#index"], ["LIMIT", 1000]]
Completed 200 OK in 30ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 1736)


Started GET "/solid_apm/transactions/1" for ::1 at 2025-02-10 20:11:00 -0500
Processing by SolidApm::TransactionsController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mSolidApm::Transaction Load (0.1ms)[0m  [1m[34mSELECT "solid_apm_transactions".* FROM "solid_apm_transactions" WHERE "solid_apm_transactions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout /Users/jfbastien/Documents/code/solid_apm/app/views/layouts/solid_apm/application.html.erb
  Rendering /Users/jfbastien/Documents/code/solid_apm/app/views/solid_apm/transactions/show.html.erb within layouts/solid_apm/application
  Rendering /Users/jfbastien/Documents/code/solid_apm/app/views/solid_apm/spans/index.html.erb
  [1m[36mSolidApm::Span Load (0.1ms)[0m  [1m[34mSELECT "solid_apm_spans".* FROM "solid_apm_spans" WHERE "solid_apm_spans"."transaction_id" = ? ORDER BY "solid_apm_spans"."timestamp" ASC, "solid_apm_spans"."sequence" ASC[0m  [["transaction_id", 1]]
  Rendered /Users/jfbastien/Documents/code/solid_apm/app/views/solid_apm/spans/index.html.erb (Duration: 9.0ms | Allocations: 9165)
  Rendered /Users/jfbastien/Documents/code/solid_apm/app/views/solid_apm/transactions/show.html.erb within layouts/solid_apm/application (Duration: 20.0ms | Allocations: 10628)
  Rendered layout /Users/jfbastien/Documents/code/solid_apm/app/views/layouts/solid_apm/application.html.erb (Duration: 21.1ms | Allocations: 11243)
Completed 200 OK in 70ms (Views: 21.5ms | ActiveRecord: 0.2ms | Allocations: 12849)


Started GET "/solid_apm/transactions/1/spans.json" for ::1 at 2025-02-10 20:11:00 -0500
Processing by SolidApm::TransactionsController#spans as JSON
  Parameters: {"id" => "1"}
  [1m[36mSolidApm::Transaction Load (0.1ms)[0m  [1m[34mSELECT "solid_apm_transactions".* FROM "solid_apm_transactions" WHERE "solid_apm_transactions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSolidApm::Span Load (0.1ms)[0m  [1m[34mSELECT "solid_apm_spans".* FROM "solid_apm_spans" WHERE "solid_apm_spans"."transaction_id" = ? ORDER BY "solid_apm_spans"."timestamp" ASC, "solid_apm_spans"."sequence" ASC[0m  [["transaction_id", 1]]
Completed 200 OK in 28ms (Views: 4.3ms | ActiveRecord: 0.2ms | Allocations: 2928)


